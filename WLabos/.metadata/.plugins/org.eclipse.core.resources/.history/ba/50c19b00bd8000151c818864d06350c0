package datamanagement.labo1.searching;

import java.io.IOException;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.misc.HighFreqTerms;
import org.apache.lucene.queryparser.classic.ParseException;
import org.apache.lucene.queryparser.classic.QueryParser;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.TopDocs;

import datamanagement.labo1.indexing.Lab1Indexer;

import org.apache.lucene.search.Query;

public class Lab1Searcher {

	private Analyzer analyzer;
	private IndexSearcher iSearcher;
	
	public Lab1Searcher(Analyzer analyzer, IndexSearcher indexSearcher)
	{
		this.analyzer = analyzer;
		this.iSearcher = indexSearcher;
	}
	
	public TopDocs proceedQuery(String queryText, int numberOfDocs) throws IOException, ParseException
	{
		QueryParser queryParser = new QueryParser(Lab1Indexer.SUMMARYFIELD, analyzer);
		Query query = queryParser.parse(queryText);
		System.out.println("Recherche de %s");
		
		return iSearcher.search(query, numberOfDocs);	
	}
	
	public void QueryAndDisplayScore(String queryText, int numberOfDocs) throws IOException, ParseException
	{
		
	}
}
